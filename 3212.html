<!DOCTYPE html>
<html>
<head>
    <title>אתר מוגן בסיסמה עם שמירת לינקים</title>
</head>
<body>
    <h1>אתר מוגן בסיסמה עם שמירת לינקים</h1>
    <form id="passwordForm">
        <label for="password">הכנס סיסמה:</label>
        <input type="password" id="password" required>
        <button type="button" onclick="checkPassword()">שלח</button>
    </form>

    <div id="content" style="display:none;">
        <!-- כאן תוכל להוסיף לינקים ולשמור אותם -->
        <h2>תוכן אפשרי:</h2>
        <ul id="linksList">
        </ul>

        <h2>צור לינק חדש:</h2>
        <label for="newLink">כתובת הלינק:</label>
        <input type="text" id="newLink" required>
        <button type="button" onclick="createLink()">צור לינק</button>
    </div>

    <script>
        const password = "123"; // סיסמה קשה קוד - שנמצא בלבד בתוך הדוגמה

        function checkPassword() {
            const inputPassword = document.getElementById("password").value;
            if (inputPassword === password) {
                document.getElementById("passwordForm").style.display = "none";
                document.getElementById("content").style.display = "block";

                // הצג לינקים מLocalStorage
                displayLinks();
            } else {
                alert("סיסמה שגויה. אנא נסה שוב.");
            }
        }

        function createLink() {
            const newLinkInput = document.getElementById("newLink");
            const newLink = newLinkInput.value.trim();
            if (newLink) {
                // הוסף לינק לLocalStorage
                addLink(newLink);

                // הצג לינקים
                displayLinks();

                newLinkInput.value = "";
            }
        }

        function addLink(link) {
            const links = getLinks();
            links.push(link);
            localStorage.setItem("links", JSON.stringify(links));
        }

        function deleteLink(link) {
            const links = getLinks();
            const index = links.indexOf(link);
            if (index !== -1) {
                links.splice(index, 1);
                localStorage.setItem("links", JSON.stringify(links));
                displayLinks();
            }
        }

        function getLinks() {
            const linksString = localStorage.getItem("links") || "[]";
            return JSON.parse(linksString);
        }

        function displayLinks() {
            const linksList = document.getElementById("linksList");
            const links = getLinks();

            // נקה את הרשימה
            while (linksList.firstChild) {
                linksList.removeChild(linksList.firstChild);
            }

            // הצג את הלינקים
            links.forEach(function(link) {
                const listItem = document.createElement("li");
                const linkElement = document.createElement("a");
                linkElement.href = "javascript:void(0);"; // מנע ניווט בלחיצה
                linkElement.textContent = link;

                const deleteButton = document.createElement("button");
                deleteButton.textContent = "מחק";
                deleteButton.onclick = function() {
                    deleteLink(link);
                };

                listItem.appendChild(linkElement);
                listItem.appendChild(deleteButton);

                linksList.appendChild(listItem);
            });
        }
    </script>
</body>
</html>
